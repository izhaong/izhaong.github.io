(window.webpackJsonp=window.webpackJsonp||[]).push([[209],{548:function(s,e,a){"use strict";a.r(e);var n=a(4),t=Object(n.a)({},(function(){var s=this,e=s._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h3",{attrs:{id:"查看当前操作系统"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看当前操作系统"}},[s._v("#")]),s._v(" 查看当前操作系统")]),s._v(" "),e("ul",[e("li",[e("code",[s._v("lsb_release -a")])]),s._v(" "),e("li",[e("code",[s._v("cat /etc/redhat-release")])])]),s._v(" "),e("h2",{attrs:{id:"配置公私钥加密登录-ssh"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置公私钥加密登录-ssh"}},[s._v("#")]),s._v(" 配置公私钥加密登录  ssh")]),s._v(" "),e("ul",[e("li",[s._v("生成公钥和私钥（实际上如果之前有的话就不用重新生成了）")])]),s._v(" "),e("p",[e("code",[s._v("ssh-keygen -t rsa")])]),s._v(" "),e("p",[s._v("配置："),e("code",[s._v("http://niexiaotao.cn/2018/04/11/Linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%9D%E5%A7%8B%E5%8C%96%E8%AE%BE%E7%BD%AE%E7%94%A8%E6%88%B7%E5%92%8Cssh%E5%85%AC%E7%A7%81%E9%92%A5%E7%99%BB%E9%99%86/")])]),s._v(" "),e("h3",{attrs:{id:"安装docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装docker"}},[s._v("#")]),s._v(" 安装docker")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# step 1: 安装必要的一些系统工具")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" yum-utils device-mapper-persistent-data lvm2\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Step 2: 添加软件源信息")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Step 3: 更新并安装 Docker-CE")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum makecache fast\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" docker-ce\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Step 4: 开启Docker服务")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" start\n\n注意：其他注意事项在下面的注释中\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 官方软件源默认启用了最新的软件，您可以通过编辑软件源的方式获取各个版本的软件包。例如官方并没有将测试版本的软件源置为可用，你可以通过以下方式开启。同理可以开启各种测试版本等。")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim /etc/yum.repos.d/docker-ce.repo")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   将 [docker-ce-test] 下方的 enabled=0 修改为 enabled=1")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装指定版本的Docker-CE:")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Step 1: 查找Docker-CE的版本:")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum list docker-ce.x86_64 --showduplicates | sort -r")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   Loading mirror speeds from cached hostfile")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   Loaded plugins: branch, fastestmirror, langpacks")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   docker-ce.x86_64            17.03.1.ce-1.el7.centos            docker-ce-stable")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   docker-ce.x86_64            17.03.1.ce-1.el7.centos            @docker-ce-stable")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   docker-ce.x86_64            17.03.0.ce-1.el7.centos            docker-ce-stable")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   Available Packages")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Step2 : 安装指定版本的Docker-CE: (VERSION 例如上面的 17.03.0.ce.1-1.el7.centos)")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sudo yum -y install docker-ce-[VERSION]")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注意：在某些版本之后，docker-ce安装出现了其他依赖包，如果安装失败的话请关注错误信息。例如 docker-ce 17.03 之后，需要先安装 docker-ce-selinux。")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum list docker-ce-selinux- --showduplicates | sort -r")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sudo yum -y install docker-ce-selinux-[VERSION]")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 通过经典网络、VPC网络内网安装时，用以下命令替换Step 2中的命令")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 经典网络：")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sudo yum-config-manager --add-repo http://mirrors.aliyuncs.com/docker-ce/linux/centos/docker-ce.repo")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# VPC网络：")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sudo yum-config-manager --add-repo http://mirrors.could.aliyuncs.com/docker-ce/linux/centos/docker-ce.repo")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br")])]),e("h4",{attrs:{id:"安装docker-compose"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装docker-compose"}},[s._v("#")]),s._v(" 安装docker-compose")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("curl -L https://get.daocloud.io/docker/compose/releases/download/1.26.2/docker-compose-`uname -s`-`uname -m` > /usr/local/bin/docker-compose\n\nchmod +x /usr/local/bin/docker-compose\n\ndocker-compose -v\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])])])}),[],!1,null,null,null);e.default=t.exports}}]);