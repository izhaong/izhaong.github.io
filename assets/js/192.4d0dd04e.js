(window.webpackJsonp=window.webpackJsonp||[]).push([[192],{531:function(e,t,a){"use strict";a.r(t);var s=a(4),r=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h3",{attrs:{id:"创建网桥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建网桥"}},[e._v("#")]),e._v(" 创建网桥")]),e._v(" "),t("p",[t("code",[e._v("docker network create testnet")])]),e._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("➜  frp "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" network create testnet\nc5d16df825066dbcc760f6df56a723be332302863f70dcb7a43994dd092c7917\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br")])]),t("h4",{attrs:{id:"查看新建的bridge"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看新建的bridge"}},[e._v("#")]),e._v(" 查看新建的bridge")]),e._v(" "),t("p",[t("code",[e._v("docker network ls")])]),e._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("➜  frp "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" network "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("ls")]),e._v("\nNETWORK ID     NAME              DRIVER    SCOPE\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(".\nc5d16df82506   testnet           bridge    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("local")]),e._v("\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br")])]),t("h3",{attrs:{id:"连接网桥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#连接网桥"}},[e._v("#")]),e._v(" 连接网桥")]),e._v(" "),t("p",[t("code",[e._v("docker run -it --name <容器名> ---network <bridge> --network-alias <网络别名> <镜像名>")])]),e._v(" "),t("p",[e._v("eg: "),t("code",[e._v("docker run -it -name frpc --network frpnet --network-alias")])]),e._v(" "),t("h3",{attrs:{id:"错误"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#错误"}},[e._v("#")]),e._v(" 错误")]),e._v(" "),t("p",[t("code",[e._v('[root@test3 web-server]# docker-compose up Creating network "web-server_default" with the default driver ERROR: Failed to Setup IP tables: Unable to enable SKIP DNAT rule: (iptables failed: iptables --wait -t nat -I DOCKER -i br-11110b8ea34e -j RETURN: iptables: No chain/target/match by that name.')])]),e._v(" "),t("p",[e._v("原因是因为防火墙关闭之后需要重启"),t("a",{attrs:{href:"https://so.csdn.net/so/search?q=docker&spm=1001.2101.3001.7020",target:"_blank",rel:"noopener noreferrer"}},[e._v("docker"),t("OutboundLink")],1),e._v("服务。")]),e._v(" "),t("p",[e._v("执行：")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("service docker restart\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("h3",{attrs:{id:"mac"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mac"}},[e._v("#")]),e._v(" mac")]),e._v(" "),t("h4",{attrs:{id:"mac下docker从容器内部访问宿主机ip"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mac下docker从容器内部访问宿主机ip"}},[e._v("#")]),e._v(" mac下docker从容器内部访问宿主机ip")]),e._v(" "),t("p",[e._v("1、有网络的情况下：\n通过 ifconfig 中找到自己的电脑 ip 然后直接访问即可")]),e._v(" "),t("p",[e._v("2、没有网络的情况下：\n通过 ifconfig 是找不到 ip 的，然后 需要找到一个宿主机的ip")]),e._v(" "),t("p",[e._v("可以通过 域名 来访问：")]),e._v(" "),t("p",[t("code",[e._v("docker.for.mac.host.internal")]),e._v("\n可以 ping 或者 用 telnet ip port 来测试一下")]),e._v(" "),t("p",[e._v("https://dockerdocs.cn/docker-for-mac/networking/")]),e._v(" "),t("h4",{attrs:{id:"从mac连接到容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#从mac连接到容器"}},[e._v("#")]),e._v(" 从Mac连接到容器")]),e._v(" "),t("p",[e._v("港口转运工程"),t("code",[e._v("localhost")]),e._v("; "),t("code",[e._v("--publish")]),e._v("，"),t("code",[e._v("-p")]),e._v("或"),t("code",[e._v("-P")]),e._v("所有的工作。从Linux公开的端口将转发到主机。")])])}),[],!1,null,null,null);t.default=r.exports}}]);